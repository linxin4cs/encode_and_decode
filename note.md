# 编码

记录常见的编码方式

## Base64

### 介绍

Base64 是一种二进制到文本的编码方式，是将 byte 数组编码为字符串的方法，编码出的字符串只包含 ACSII 的基础字符（64个）：

- A-Z 26

- a-z 26

- \+ 1

- / 1

编号依次为 0 - 63（A - /）。

形式为：ShuSheng007 => U2h1U2hlbmcwMDc=，= 为填充符。

它不是加密算法，算法是公开的，仅仅是一种编码方式，为了解决各系统以及传输协议中二进制不兼容的问题诞生的。

### 使用场景

- 证书
- 电子邮件的附件
- xml 嵌套
- 网页中的小图片
- 纯文本协议 SMTP

### 编码方式

1. 将原始数据从左至右以三个字节分为一组，每组 8 个 bit，一共为 24 个 bit。
2. 将 24 个 bit 从左至右分为四组，每组 6 个 bit。
3. 在每组前补加 00，补全 8 个 bit 位。若最后一组不足 6 个 bit，末尾补 0，知道补足 6 个 bit 位。
4. 根据 Base64 码表得到拓展后的每个字节对应符号。

如对 Man 进行编码：

Man 对应的每个字节对应 ASCII 码为 77，97，110，分别转换为二进制 bit 位为 01001101，01100001，01101110。再按照上述编码方式进行编码后得到的 bit 序列为 00010011，00010110，00000101，00101110，再转换为 10 进制为 19，22，5，46，对应在 Base64 码表上的字符为 T，W，F，u。

什么时候有填充符呢？

当一组字节串长度不足 3 时，则在编码后的字符末尾补 =，缺一个字节补一个，缺两个补两个，最多两个。

### DataURI

data: image/jpeg;base64, /9j/4AA...

这是 DataURI，大部分浏览器支持直接打开这类二进制数据。